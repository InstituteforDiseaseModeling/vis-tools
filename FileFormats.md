Vis-Tools File Formats
======================


Simulation files
----------------

This file documents the formats of some key files that are key to Vis-Tools. The
simulation input and output files, however are documented on IDM's web site:

* [config.json](http://idmod.org/docs/general/intro-configuration.html?searchText=config.json)
* [demographics.json](http://idmod.org/docs/general/parameter-demographics.html?searchText=demographics)
* [insetchart.json](http://idmod.org/docs/general/file-inset-chart.html?searchText=inset%20chart)
* [Spatial Reports](http://idmod.org/docs/general/file-spatial.html?searchText=spatial%20report)

The documentation below is divided up by releases, and within the releases
specific additions and changes are described (denoted respectively by ADDITION
and CHANGE).


visset.json
-----------

The visset.json file is generated by a preprocessing script and contains all
the links and metadata required to run the Vis-Tools client web visualization.

Because of the way visSet.js works, ADDITIONs are automatically added to any
visset that is read in, because the defaultvisset.json is read first, then the
user's changes are merged. For CHANGEs the merge may put old-style information
into the data structure, so, the _process() method will upgrade previous
versions structures to the latest structures.


### Version 1.2

Asset manager, custom base layer, links section are all objects.

* CHANGE: all `url`s in the links section may be complemented with an `url_asset`
  with the asset manager url for the asset

* CHANGE: links.inset is now an object or null:

        links.inset = {
           url: localUrl,
           [url_asset: assetManagerUrl,]
        }

  For backward compatibility, client still works with simple string or null.
  
* CHANGE: Gradient specifications may now contain #rrggbbaa color values which
  allow gradients that have varying opacity. Alpha values are interpolated just
  like colors.

* ADDITION: links.customBaseLayer is an object or null:

        links.customBaseLayer = {
          url: localUrl,
          [url_asset: assetManagerUrl,]
          [friendlyName: nameForBaseLayerMenu]
        }


### Version 1.1

No data structure changes.


### Version 1.0

Initial release. Original data structure. Structure and key names can be seen
in defaultvisset.json.


Geospatial settings.json
------------------------

These files are saved and loaded by the Vis-Tools client Geospatial web
visualization. Any ADDITION elements after 1.0 are optional - the code will
still be able to read settings files that do not have the added elements.


### Version 1.2

* ADDITION: presentation mode active * FIXME
* ADDITION: flat mode active * FIXME


### Version 1.1

No data structure changes.


### Version 1.0

Initial release. Original data structure.
